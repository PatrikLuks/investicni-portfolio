<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Správa Investičního Portfolia</title>
    <style>
        :root {
            --primary-blue: #1a237e;
            --secondary-blue: #3949ab;
            --background: #ffffff;
            --text-primary: #2c3e50;
            --text-secondary: #7f8c8d;
            --border-color: #e0e0e0;
            /* Color schemes */
            --scheme-blue-primary: #1a237e;
            --scheme-blue-secondary: #3949ab;
            
            --scheme-red-primary: #c0392b;
            --scheme-red-secondary: #e74c3c;
            
            --scheme-green-primary: #27ae60;
            --scheme-green-secondary: #2ecc71;
            
            --scheme-yellow-primary: #f39c12;
            --scheme-yellow-secondary: #f1c40f;
        }

        body { 
            font-family: 'Inter', 'Segoe UI', sans-serif; 
            margin: 0; 
            padding: 40px; 
            background-color: var(--background);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.5;
        }
        
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
        }
        
        .card { 
            background-color: var(--background);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
            border: 1px solid var(--border-color);
            width: 100%;
            box-sizing: border-box;
        }
        
        .form-group { 
            margin-bottom: 24px; 
        }
        
        label { 
            display: block; 
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-primary);
            font-size: 0.875rem;
        }
        
        input { 
            width: 100%; 
            padding: 12px;
            background: var(--background);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 0.875rem;
            color: var(--text-primary);
        }
        
        input:focus {
            border-color: var(--primary-blue);
            outline: none;
            box-shadow: 0 0 0 3px rgba(26, 35, 126, 0.1);
        }

        .button-group {
            display: flex;
            gap: 12px;
        }
        
        button { 
            background: var(--primary-blue);
            color: white;
            padding: 12px 24px; 
            border: none;
            border-radius: 6px;
            cursor: pointer; 
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        button.secondary {
            background: white;
            color: var(--primary-blue);
            border: 1px solid var(--primary-blue);
        }

        .fond-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px auto;
            font-size: 0.875rem;
            table-layout: fixed;
        }

        .fond-table th,
        .fond-table td {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-color);
            width: 20%;
        }

        .fond-table th {
            padding: 12px 16px;
            text-align: left;
            background: #f8f9fa;
            color: var(--text-primary);
            font-weight: 500;
            border-bottom: 1px solid var(--border-color);
        }

        .inline-edit {
            background: transparent;
            border: 1px solid transparent;
            width: 100%;
            padding: 4px;
            font-size: inherit;
            font-family: inherit;
            color: var(--text-primary);
        }

        .inline-edit:focus {
            border-color: var(--primary-blue);
            border-radius: 4px;
            outline: none;
        }

        .delete-btn {
            color: #dc3545;
            background: transparent;
            border: 1px solid #dc3545;
            padding: 6px 12px;
            font-size: 0.75rem;
        }

        h1, h2 {
            color: var(--text-primary);
            margin-bottom: 24px;
            font-weight: 600;
            font-size: 1.5rem;
        }

        #clientNameDisplay {
            color: var(--primary-blue);
            font-weight: 500;
        }

        /* Odstraněno monospace font pro jednotný vzhled */

        @media (max-width: 768px) {
            body {
                padding: 20px;
            }
            
            .card {
                padding: 20px;
            }
        }

        .report-info {
            position: absolute;
            top: 20px;
            right: 20px;
            text-align: right;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .report-info p {
            margin: 5px 0;
        }

        .header {
            position: relative;
            margin-bottom: 30px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 40px;
            padding: 20px;
        }

        .logo-section {
            flex-shrink: 0;
            width: 50%;
        }

        .logo { 
            height: 100px;
            display: block;
        }

        .report-info {
            width: 50%;
            text-align: right;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .report-info p {
            margin: 5px 0;
        }

        h1 {
            color: var(--text-primary);
            margin: 40px 0 24px;
            font-size: 2.5rem;
            font-weight: 600;
            text-align: center;
            clear: both;
        }

        .disclaimer {
            margin-top: 40px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            font-size: 0.875rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .disclaimer p {
            margin-bottom: 16px;
        }

        .disclaimer p:last-child {
            margin-bottom: 0;
        }

        .color-picker {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .scheme-button {
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            border: none;
            color: white;
            font-weight: 500;
        }

        .blue-scheme { background-color: #1a237e; }
        .red-scheme { background-color: #c0392b; }
        .green-scheme { background-color: #27ae60; }
        .yellow-scheme { background-color: #f39c12; }

        .scheme-button.active {
            outline: 3px solid #333;
        }

        .currency-switch {
            margin-bottom: 20px;
            padding: 12px;
            background-color: #f8f9fa;
            border-radius: 6px;
            border: 1px solid var(--border-color);
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: 500;
            color: var(--text-primary);
            margin: 0;
        }

        .checkbox-label input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
            cursor: pointer;
        }

        .checkmark {
            margin-left: 8px;
        }

        .form-select {
            width: 100%;
            padding: 12px;
            background: var(--background);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 0.875rem;
            color: var(--text-primary);
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        .form-select:focus {
            border-color: var(--primary-blue);
            outline: none;
            box-shadow: 0 0 0 3px rgba(26, 35, 126, 0.1);
        }

        @media print {
            .card {
                border: none;
                padding: 0;  /* Odstraníme i padding pro lepší využití prostoru */
                margin-bottom: 20px;  /* Ponecháme menší mezeru mezi sekcemi */
            }
        }

        .charts-container canvas {
            width: 700px;
            height: 420px;
            max-width: 100%;
            max-height: 100%;
            display: block;
            margin: 0 auto;
            background: transparent;
            border-radius: 12px;
            filter: drop-shadow(0 4px 12px rgba(15, 23, 42, 0.06));
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card" id="clientNameCard">
            <h1>Zadejte údaje</h1>
            <form id="clientForm">
                <div class="form-group">
                    <label for="clientName">Jméno klienta:</label>
                    <input type="text" id="clientName" required>
                </div>
                <div class="form-group">
                    <label for="advisorName">Jméno a příjmení poradce:</label>
                    <input type="text" id="advisorName" required>
                </div>
                <div class="form-group">
                    <label for="advisorEmail">Email poradce:</label>
                    <input type="email" id="advisorEmail" required>
                </div>
                <button type="submit">Potvrdit</button>
            </form>
        </div>

        <div class="card" id="portfolioCard" style="display: none;">
            <h1>Portfolio klienta: <span id="clientNameDisplay"></span></h1>
            <div class="color-picker">
                <button type="button" class="scheme-button blue-scheme">Modrá</button>
                <button type="button" class="scheme-button red-scheme">Červená</button>
                <button type="button" class="scheme-button green-scheme">Zelená</button>
                <button type="button" class="scheme-button yellow-scheme">Žlutá</button>
            </div>
            <div class="currency-switch">
                <label class="checkbox-label">
                    <input type="checkbox" id="currencySwitch">
                    <span class="checkmark"></span>
                    Zobrazit v eurech (€)
                </label>
            </div>
            <form id="portfolioForm">
                <div class="form-group">
                    <label for="fondName">Název fondu:</label>
                    <input type="text" id="fondName" list="fondList" required>
                    <datalist id="fondList">
                        <option value="1. fond reverzních hypoték SICAV, a.s. Prémiové investiční akcie">
                        <option value="1. fond reverzních hypoték SICAV, a.s. Prioritní investiční akcie">
                        <option value="4 Gimel Investments SICAV, a.s., Podfond Alfa 4 Gimel Investments">
                        <option value="Active Invest Dynamický OPF, CFIS">
                        <option value="Active Invest Konzervativní OPF, CFIS">
                        <option value="Active Invest Vyvážený OPF, CFIS">
                        <option value="BlackRock-BGF World Healthscience A2 USD">
                        <option value="Conseq Invest Akcie Nové Evropy - Třída A">
                        <option value="Conseq Invest Akcie Nové Evropy - Třída B">
                        <option value="Conseq Invest Akcie Nové Evropy - Třída D">
                        <option value="Conseq Invest Dluhopisový - Třída A">
                        <option value="Conseq Invest Dluhopisový - Třída B">
                        <option value="Conseq Invest Dluhopisový - Třída D">
                        <option value="Conseq Invest Dluhopisy Nové Evropy - A">
                        <option value="Conseq Invest Dluhopisy Nové Evropy - D">
                        <option value="Conseq Invest Konzervativní - Třída A">
                        <option value="Conseq Invest Konzervativní - Třída D">
                        <option value="Conseq korporátních dluhopisů, OPF CFIS, a.s. A">
                        <option value="Conseq model portfolio aggressive ESG A (CZK)">
                        <option value="Conseq nemovitostních fondů, OPF CFIS, a.s.">
                        <option value="Conseq Opportunity OPFKI, QI IS">
                        <option value="Conseq realitní, OPF CFIS, a.s.">
                        <option value="Conseq Repofond">
                        <option value="Českomoravský fond SICAV, a.s. Podfond AGUILA">
                        <option value="Československý nemovitostní fond SICAV, a.s. Prémiové investiční akcie">
                        <option value="Československý nemovitostní fond SICAV, a.s. Prioritní investiční akcie">
                        <option value="Český Fond Půdy (CZK), Akumulační třída, Na IU nelze pořídit přes ePortál">
                        <option value="Český Fond Půdy (CZK), Dividendová třída, Na IU nelze pořídit přes ePortál">
                    </datalist>
                </div>
                <div class="form-group">
                    <label for="producer">Producent:</label>
                    <select id="producer" required class="form-select">
                        <option value="">Vyberte producenta</option>
                        <option value="Avant">Avant</option>
                        <option value="Conseq">Conseq</option>
                        <option value="J&T">J&T</option>
                        <option value="Codya">Codya</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="investment">Čistá investice (Kč):</label>
                    <input type="number" id="investment" required>
                </div>
                <div class="form-group">
                    <label for="investmentDate">Datum investice:</label>
                    <input type="date" id="investmentDate" required>
                </div>
                <div class="form-group">
                    <label for="value">Aktuální hodnota (Kč):</label>
                    <input type="number" id="value" required>
                </div>
                <div class="button-group">
                    <button type="submit">Přidat fond</button>
                    <button type="button" id="generateReport" class="secondary">Generovat report</button>
                </div>
            </form>
        </div>
        <div class="card" id="fondListCard" style="display: none;">
            <div class="view-switch" style="display: flex; gap: 10px; margin-bottom: 16px;">
                <button id="switchFunds" class="switch-btn active" type="button">Fondy</button>
                <button id="switchProducers" class="switch-btn" type="button">Producenti</button>
            </div>
            <h2>Přidané fondy</h2>
            <table class="fond-table">
                <thead id="fondTableHead">
                    <tr>
                        <th>Název fondu</th>
                        <th>Producent</th>
                        <th>Čistá investice</th>
                        <th>Aktuální hodnota</th>
                        <th>Akce</th>
                    </tr>
                </thead>
                <tbody id="fondTableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        const portfolioData = [];
        let clientName = '';

        // Přidáme seznam fondů
        const defaultFunds = [
            "1. fond reverzních hypoték SICAV, a.s. Prémiové investiční akcie",
            "1. fond reverzních hypoték SICAV, a.s. Prioritní investiční akcie",
            "4 Gimel Investments SICAV, a.s., Podfond Alfa 4 Gimel Investments",
            "Active Invest Dynamický OPF, CFIS",
            "Active Invest Konzervativní OPF, CFIS",
            "Active Invest Vyvážený OPF, CFIS",
            "BlackRock-BGF World Healthscience A2 USD",
            "Conseq Invest Akcie Nové Evropy - Třída A",
            "Conseq Invest Akcie Nové Evropy - Třída B",
            "Conseq Invest Akcie Nové Evropy - Třída D",
            "Conseq Invest Dluhopisový - Třída A",
            "Conseq Invest Dluhopisový - Třída B",
            "Conseq Invest Dluhopisový - Třída D",
            "Conseq Invest Dluhopisy Nové Evropy - A",
            "Conseq Invest Dluhopisy Nové Evropy - D",
            "Conseq Invest Konzervativní - Třída A",
            "Conseq Invest Konzervativní - Třída D",
            "Conseq korporátních dluhopisů, OPF CFIS, a.s. A",
            "Conseq model portfolio aggressive ESG A (CZK)",
            "Conseq nemovitostních fondů, OPF CFIS, a.s.",
            "Conseq Opportunity OPFKI, QI IS",
            "Conseq realitní, OPF CFIS, a.s.",
            "Conseq Repofond",
            "Českomoravský fond SICAV, a.s. Podfond AGUILA",
            "Československý nemovitostní fond SICAV, a.s. Prémiové investiční akcie",
            "Československý nemovitostní fond SICAV, a.s. Prioritní investiční akcie",
            "Český Fond Půdy (CZK), Akumulační třída, Na IU nelze pořídit přes ePortál",
            "Český Fond Půdy (CZK), Dividendová třída, Na IU nelze pořídit přes ePortál"
        ];

        // Při prvním načtení stránky uložíme fondy do localStorage
        if (!localStorage.getItem('funds')) {
            localStorage.setItem('funds', JSON.stringify(defaultFunds));
        }

        // Funkce pro přidání nového fondu do localStorage
        function addNewFund(fundName) {
            const funds = JSON.parse(localStorage.getItem('funds'));
            if (!funds.includes(fundName)) {
                funds.push(fundName);
                localStorage.setItem('funds', JSON.stringify(funds));
            }
        }
    </script>
    <script src="app-portfolio.js"></script>
</body>
</html>
