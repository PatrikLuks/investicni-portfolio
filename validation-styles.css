/**
 * Data Validation Styles
 * Visual feedback for field validation
 */

/* Input Validation States */
input.valid,
select.valid,
textarea.valid {
  border-color: #4caf50 !important;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%234caf50"><path d="M13.5 2.5l-7 7-3-3-1.5 1.5 4.5 4.5 8.5-8.5z"/></svg>');
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px;
  padding-right: 40px;
}

input.invalid,
select.invalid,
textarea.invalid {
  border-color: #f44336 !important;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23f44336"><path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm4 10.5L10.5 12 8 9.5 5.5 12 4 10.5 6.5 8 4 5.5 5.5 4 8 6.5 10.5 4 12 5.5 9.5 8z"/></svg>');
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px;
  padding-right: 40px;
}

/* Validation Error Messages */
.validation-error {
  display: block;
  color: #f44336;
  font-size: 0.875rem;
  margin-top: 4px;
  padding: 6px 10px;
  background: #ffebee;
  border-left: 3px solid #f44336;
  border-radius: 4px;
  animation: slideDown 0.2s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Validation Success Messages */
.validation-success {
  display: block;
  color: #4caf50;
  font-size: 0.875rem;
  margin-top: 4px;
  padding: 6px 10px;
  background: #e8f5e9;
  border-left: 3px solid #4caf50;
  border-radius: 4px;
}

/* Field Groups with Validation */
.field-group.has-error input,
.field-group.has-error select,
.field-group.has-error textarea {
  border-color: #f44336;
}

.field-group.has-success input,
.field-group.has-success select,
.field-group.has-success textarea {
  border-color: #4caf50;
}

/* Validation Summary Panel */
.validation-summary {
  padding: 16px;
  margin: 16px 0;
  border-radius: 8px;
  border: 2px solid;
}

.validation-summary.error {
  background: #ffebee;
  border-color: #f44336;
  color: #c62828;
}

.validation-summary.warning {
  background: #fff8e1;
  border-color: #ffc107;
  color: #f57c00;
}

.validation-summary.success {
  background: #e8f5e9;
  border-color: #4caf50;
  color: #2e7d32;
}

.validation-summary h4 {
  margin: 0 0 12px 0;
  font-size: 1.1rem;
}

.validation-summary ul {
  margin: 0;
  padding-left: 20px;
}

.validation-summary li {
  margin-bottom: 6px;
}

/* Inline Validation Tooltips */
.validation-tooltip {
  position: absolute;
  background: #f44336;
  color: white;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 0.875rem;
  z-index: 1000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  max-width: 250px;
  pointer-events: none;
}

.validation-tooltip::before {
  content: '';
  position: absolute;
  top: -6px;
  left: 20px;
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-bottom: 6px solid #f44336;
}

/* Required Field Indicator */
.required-indicator {
  color: #f44336;
  font-weight: bold;
  margin-left: 4px;
}

label .required-indicator::after {
  content: '*';
}

/* Loading State During Validation */
input.validating,
select.validating,
textarea.validating {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%232196f3"><circle cx="8" cy="8" r="6" opacity="0.3"/><path d="M8 2v4M8 10v4M2 8h4M10 8h4"/></svg>');
  background-repeat: no-repeat;
  background-position: right 12px center;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Focus States with Validation */
input.valid:focus,
select.valid:focus,
textarea.valid:focus {
  box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
  border-color: #4caf50;
}

input.invalid:focus,
select.invalid:focus,
textarea.invalid:focus {
  box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.1);
  border-color: #f44336;
}

/* Disabled Fields */
input:disabled,
select:disabled,
textarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background-color: #f5f5f5;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .validation-error,
  .validation-success {
    font-size: 0.8rem;
    padding: 4px 8px;
  }

  .validation-tooltip {
    font-size: 0.8rem;
    max-width: 200px;
  }
}

/* Dark Mode */
@media (prefers-color-scheme: dark) {
  input.valid,
  select.valid,
  textarea.valid {
    border-color: #66bb6a !important;
  }

  input.invalid,
  select.invalid,
  textarea.invalid {
    border-color: #ef5350 !important;
  }

  .validation-error {
    background: #5d2020;
    border-color: #ef5350;
    color: #ffcdd2;
  }

  .validation-success {
    background: #1b5e20;
    border-color: #66bb6a;
    color: #c8e6c9;
  }

  .validation-summary.error {
    background: #5d2020;
    border-color: #ef5350;
    color: #ffcdd2;
  }

  .validation-summary.success {
    background: #1b5e20;
    border-color: #66bb6a;
    color: #c8e6c9;
  }

  input:disabled,
  select:disabled,
  textarea:disabled {
    background-color: #2a2a2a;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  input.valid,
  select.valid,
  textarea.valid {
    border-width: 3px;
  }

  input.invalid,
  select.invalid,
  textarea.invalid {
    border-width: 3px;
  }

  .validation-error,
  .validation-success {
    border-width: 4px;
  }
}

/* Print Styles */
@media print {
  .validation-error,
  .validation-success,
  .validation-tooltip {
    display: none;
  }

  input.valid,
  select.valid,
  textarea.valid,
  input.invalid,
  select.invalid,
  textarea.invalid {
    border-color: currentColor !important;
    background-image: none !important;
  }
}
